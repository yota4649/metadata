<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X2JS testing</title>
    <style>
        body,
        body > div {
            display: flex;
        }

        body > *,
        body > div > textarea {
            flex: 1 1 50%;
            min-height: 500px;
        }
    </style>
</head>
<body>
    <div>
        <textarea id="xml-source"></textarea>
        <button onClick="test()">Go</button>
    </div>
    <pre id="json-result"></pre>

    <!-- <script src="./test.js"></script> -->
    <!-- <script src="./dist/x2js.es5.js"></script> -->
    <script src="./x2js.js"></script>
    <script>
        var source = document.getElementById('xml-source');
        var resultContainer = document.getElementById('json-result');

        // source.value = `
        // <BMR>
        //     <KEY>patient.flag.mrsa</KEY>
        //     <KEYCCD>Patient MRSA</KEYCCD>
        //     <VALUECCD>positif</VALUECCD>
        //     <LIBELLE_POSITIF>dernier positif</LIBELLE_POSITIF>
        //     <LIBELLE ORDER="1"><![CDATA[<B>MRSA</B>]]></LIBELLE>
        //     <LIBELLE ORDER="2"><![CDATA[<i>Staphylococcus aureus</i> résistant à la méticiline]]></LIBELLE>
        //     <COMPLEMENTS>
        //         <COMPLEMENT>
        //             <ORDER>1</ORDER>
        //             <VALUE TYPE="URL" LABEL="Protocole de décolonisation"><![CDATA[http://vigigerme.hug-ge.ch/_library/pdf/protocole_decolonisation_MRSA_janvier_2012.pdf]]></VALUE>
        //         </COMPLEMENT>
        //         <COMPLEMENT>
        //             <ORDER>2</ORDER>
        //             <VALUE TYPE="TEXT"><![CDATA[Chambre individuelle recommandée]]></VALUE>
        //         </COMPLEMENT>
        //     </COMPLEMENTS>
        // </BMR>`;
        source.value = '<xxx>(some xml string)</xxx>';

        function test() {
            var xml = source.value;
            var x2js = new X2JS({
                //keepCData: true,
                arrayAccessFormPaths: ['xxxxx'],
            });
            var json = x2js.xml2js(xml);

            resultContainer.innerText = JSON.stringify(json, null, 4);
        }
    </script>
</body>
</html>